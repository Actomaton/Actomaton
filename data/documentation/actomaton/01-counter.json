{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"codeListing","syntax":"swift","code":["enum Action: Sendable {","    case increment","    case decrement","}","","enum State: Sendable {","    var count: Int = 0","}","","typealias Environment = Void","","let reducer: Reducer<Action, State, Environment>","reducer = Reducer { action, state, environment in","    switch action {","    case .increment:","        state.count += 1","        return Effect.empty","    case .decrement:","        state.count -= 1","        return Effect.empty","    }","}","","let actomaton = Actomaton<Action, State>(","    state: State(),","    reducer: reducer",")","","@main","enum Main {","    static func main() async {","        assertEqual(await actomaton.state.count, 0)","","        await actomaton.send(.increment)","        assertEqual(await actomaton.state.count, 1)","","        await actomaton.send(.increment)","        assertEqual(await actomaton.state.count, 2)","","        await actomaton.send(.decrement)","        assertEqual(await actomaton.state.count, 1)","","        await actomaton.send(.decrement)","        assertEqual(await actomaton.state.count, 0)","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you want to add some side-effects (e.g. console logging), add "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect"},{"type":"text","text":" in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Reducer"},{"type":"text","text":" as follows:"}]},{"type":"codeListing","syntax":"swift","code":["reducer = Reducer { action, state, environment in","    switch action {","    case .increment:","        state.count += 1","        return Effect.fireAndForget {","            print(\"increment\")","        }","    case .decrement:","        state.count -= 1","        return Effect.fireAndForget {","            print(\"decrement and sleep...\")","            try await Task.sleep(...) \/\/ NOTE: We can use `await`!","            print(\"I'm awake!\")","        }","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"NOTE: There are 5 ways of creating "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect"},{"type":"text","text":" in Actomaton:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"No side-effects, but forwards next action only"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/nextAction(_:)"}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Single "},{"type":"codeVoice","code":"async"},{"type":"text","text":" without next action"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/fireAndForget(id:queue:run:)"}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Single "},{"type":"codeVoice","code":"async"},{"type":"text","text":" with next action"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/init(id:queue:run:)"}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Multiple "},{"type":"codeVoice","code":"async"},{"type":"text","text":"s (i.e. "},{"type":"codeVoice","code":"AsyncSequence"},{"type":"text","text":") with next actions"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/init(id:queue:sequence:)"}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Manual cancellation"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/cancel(id:)"},{"type":"text","text":" \/ "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/cancel(ids:)"}]}]}]}]}]},{"anchor":"Next-Step","level":2,"type":"heading","text":"Next Step"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/02-LoginLogout"}]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/actomaton\/01-counter"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Actomaton\/documentation\/Actomaton\/01-Counter","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Simple "},{"type":"codeVoice","code":"increment"},{"type":"text","text":" and "},{"type":"codeVoice","code":"decrement"},{"type":"text","text":" counter example."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Example 1: Simple Counter","role":"article","modules":[{"name":"Actomaton"}]},"hierarchy":{"paths":[["doc:\/\/Actomaton\/documentation\/Actomaton"]]},"references":{"doc://Actomaton/documentation/Actomaton/Effect/nextAction(_:)":{"role":"symbol","title":"nextAction(_:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"nextAction"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Action","preciseIdentifier":"s:9Actomaton6EffectV6Actionxmfp"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Effect","preciseIdentifier":"s:9Actomaton6EffectV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Action","preciseIdentifier":"s:9Actomaton6EffectV6Actionxmfp"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"No "},{"type":"codeVoice","code":"async"},{"type":"text","text":" side-effect, only returning next action."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/nextAction(_:)","kind":"symbol","type":"topic","url":"\/documentation\/actomaton\/effect\/nextaction(_:)"},"doc://Actomaton/documentation/Actomaton/Reducer":{"role":"symbol","title":"Reducer","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Reducer"}],"abstract":[{"type":"text","text":"A composable, "},{"type":"codeVoice","code":"State"},{"type":"text","text":"-transforming function wrapper that is triggered by "},{"type":"codeVoice","code":"Action"},{"type":"text","text":"."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Reducer","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Reducer"}],"url":"\/documentation\/actomaton\/reducer"},"doc://Actomaton/documentation/Actomaton/Effect/fireAndForget(id:queue:run:)":{"role":"symbol","title":"fireAndForget(id:queue:run:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"fireAndForget"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"ID"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"Queue"},{"kind":"text","text":">("},{"kind":"externalParam","text":"id"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ID","preciseIdentifier":"s:9Actomaton6EffectV13fireAndForget2id5queue3runACyxGqd__Sg_qd_0_SgyyYaYbKctAA0B10IDProtocolRd__AA0B13QueueProtocolRd_0_r0_lFZ2IDL_qd__mfp"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"queue"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Queue","preciseIdentifier":"s:9Actomaton6EffectV13fireAndForget2id5queue3runACyxGqd__Sg_qd_0_SgyyYaYbKctAA0B10IDProtocolRd__AA0B13QueueProtocolRd_0_r0_lFZ0J0L_qd_0_mfp"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"run"},{"kind":"text","text":": () "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> ()) -> "},{"kind":"typeIdentifier","text":"Effect","preciseIdentifier":"s:9Actomaton6EffectV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Action","preciseIdentifier":"s:9Actomaton6EffectV6Actionxmfp"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Single-"},{"type":"codeVoice","code":"async"},{"type":"text","text":" side-effect without returning next action."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/fireAndForget(id:queue:run:)","kind":"symbol","type":"topic","url":"\/documentation\/actomaton\/effect\/fireandforget(id:queue:run:)"},"doc://Actomaton/documentation/Actomaton/Effect/init(id:queue:run:)":{"role":"symbol","title":"init(id:queue:run:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"ID"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"Queue"},{"kind":"text","text":">("},{"kind":"externalParam","text":"id"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ID","preciseIdentifier":"s:9Actomaton6EffectV2id5queue3runACyxGqd__Sg_qd_0_SgxSgyYaYbKctcAA0B10IDProtocolRd__AA0B13QueueProtocolRd_0_r0_lufc2IDL_qd__mfp"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"queue"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Queue","preciseIdentifier":"s:9Actomaton6EffectV2id5queue3runACyxGqd__Sg_qd_0_SgxSgyYaYbKctcAA0B10IDProtocolRd__AA0B13QueueProtocolRd_0_r0_lufc0G0L_qd_0_mfp"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"run"},{"kind":"text","text":": () "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Action","preciseIdentifier":"s:9Actomaton6EffectV6Actionxmfp"},{"kind":"text","text":"?)"}],"abstract":[{"type":"text","text":"Single-"},{"type":"codeVoice","code":"async"},{"type":"text","text":" side-effect."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/init(id:queue:run:)","kind":"symbol","type":"topic","url":"\/documentation\/actomaton\/effect\/init(id:queue:run:)"},"doc://Actomaton/documentation/Actomaton/Effect/cancel(id:)":{"role":"symbol","title":"cancel(id:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"cancel"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"ID"},{"kind":"text","text":">("},{"kind":"externalParam","text":"id"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ID","preciseIdentifier":"s:9Actomaton6EffectV6cancel2idACyxGqd___tAA0B10IDProtocolRd__lFZ2IDL_qd__mfp"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Effect","preciseIdentifier":"s:9Actomaton6EffectV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Action","preciseIdentifier":"s:9Actomaton6EffectV6Actionxmfp"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Cancels running "},{"type":"codeVoice","code":"async"},{"type":"text","text":"s by specifying "},{"type":"codeVoice","code":"identifier"},{"type":"text","text":"."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/cancel(id:)","kind":"symbol","type":"topic","url":"\/documentation\/actomaton\/effect\/cancel(id:)"},"doc://Actomaton/documentation/Actomaton/02-LoginLogout":{"role":"article","title":"Example 2: Auth state","abstract":[{"type":"text","text":"Auth screen (login, logout, and force-logout) example."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/02-LoginLogout","kind":"article","type":"topic","url":"\/documentation\/actomaton\/02-loginlogout"},"doc://Actomaton/documentation/Actomaton/Effect/cancel(ids:)":{"role":"symbol","title":"cancel(ids:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"cancel"},{"kind":"text","text":"("},{"kind":"externalParam","text":"ids"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"EffectID","preciseIdentifier":"s:9Actomaton8EffectIDV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Effect","preciseIdentifier":"s:9Actomaton6EffectV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Action","preciseIdentifier":"s:9Actomaton6EffectV6Actionxmfp"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Cancels running "},{"type":"codeVoice","code":"async"},{"type":"text","text":"s by specifying "},{"type":"codeVoice","code":"ids"},{"type":"text","text":"."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/cancel(ids:)","kind":"symbol","type":"topic","url":"\/documentation\/actomaton\/effect\/cancel(ids:)"},"doc://Actomaton/documentation/Actomaton":{"role":"collection","title":"Actomaton","abstract":[{"type":"text","text":"Swift "},{"type":"codeVoice","code":"async"},{"type":"text","text":"\/"},{"type":"codeVoice","code":"await"},{"type":"text","text":" & "},{"type":"codeVoice","code":"Actor"},{"type":"text","text":"-powered effectful state-management framework."},{"type":"text","text":" "},{"type":"text","text":"Linux ready."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton","kind":"symbol","type":"topic","url":"\/documentation\/actomaton"},"doc://Actomaton/documentation/Actomaton/Effect/init(id:queue:sequence:)":{"role":"symbol","title":"init(id:queue:sequence:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"ID"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"S"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"Queue"},{"kind":"text","text":">("},{"kind":"externalParam","text":"id"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ID","preciseIdentifier":"s:9Actomaton6EffectV2id5queue8sequenceACyxGqd__Sg_qd_1_Sgqd_0_SgyYaYbKctc7ElementQyd_0_RszAA0B10IDProtocolRd__SciRd_0_AA0B13QueueProtocolRd_1_r1_lufc2IDL_qd__mfp"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"queue"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Queue","preciseIdentifier":"s:9Actomaton6EffectV2id5queue8sequenceACyxGqd__Sg_qd_1_Sgqd_0_SgyYaYbKctc7ElementQyd_0_RszAA0B10IDProtocolRd__SciRd_0_AA0B13QueueProtocolRd_1_r1_lufc0H0L_qd_1_mfp"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"sequence"},{"kind":"text","text":": () "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"S","preciseIdentifier":"s:9Actomaton6EffectV2id5queue8sequenceACyxGqd__Sg_qd_1_Sgqd_0_SgyYaYbKctc7ElementQyd_0_RszAA0B10IDProtocolRd__SciRd_0_AA0B13QueueProtocolRd_1_r1_lufc1SL_qd_0_mfp"},{"kind":"text","text":"?)"}],"abstract":[{"type":"codeVoice","code":"AsyncSequence"},{"type":"text","text":" side-effect."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect\/init(id:queue:sequence:)","kind":"symbol","type":"topic","url":"\/documentation\/actomaton\/effect\/init(id:queue:sequence:)"},"doc://Actomaton/documentation/Actomaton/Effect":{"role":"symbol","title":"Effect","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Effect"}],"abstract":[{"type":"text","text":"Effect type to run "},{"type":"codeVoice","code":"async"},{"type":"text","text":", "},{"type":"codeVoice","code":"AsyncSequence"},{"type":"text","text":", or cancellation."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton\/Effect","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Effect"}],"url":"\/documentation\/actomaton\/effect"}}}