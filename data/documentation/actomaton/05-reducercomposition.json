{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/Actomaton\/Actomaton-Gallery"},{"type":"text","text":" provides a good example of how "},{"type":"codeVoice","code":"Reducer"},{"type":"text","text":"s can be combined together into one big Reducer using "},{"type":"codeVoice","code":"Reducer.combine"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In this example, "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/pointfreeco\/swift-case-paths"},{"type":"text","text":" is used as a counterpart of "},{"type":"codeVoice","code":"WritableKeyPath"},{"type":"text","text":", so if we use both, we can easily construct Mega-Reducer without a hussle."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"(NOTE: "},{"type":"codeVoice","code":"CasePath"},{"type":"text","text":" is useful when dealing with enums, e.g. "},{"type":"codeVoice","code":"enum Action"},{"type":"text","text":" and "},{"type":"codeVoice","code":"enum Current"},{"type":"text","text":" in this example)"}]},{"type":"codeListing","syntax":"swift","code":["enum Root {} \/\/ just a namespace","","extension Root {","    enum Action {","        case changeCurrent(State.Current?)","","        case counter(Counter.Action)","        case stopwatch(Stopwatch.Action)","        case stateDiagram(StateDiagram.Action)","        case todo(Todo.Action)","        case github(GitHub.Action)","    }","","    struct State: Equatable {","        var current: Current?","","        \/\/ Current screen (NOTE: enum, so only 1 screen will appear)","        enum Current: Equatable {","            case counter(Counter.State)","            case stopwatch(Stopwatch.State)","            case stateDiagram(StateDiagram.State)","            case todo(Todo.State)","            case github(GitHub.State)","        }","    }","","    \/\/ NOTE: `contramap` is also called `pullback` in swift-composable-architecture.","    static var reducer: Reducer<Action, State, Environment> {","        Reducer.combine(","            Counter.reducer","                .contramap(action: \/Action.counter)","                .contramap(state: \/State.Current.counter)","                .contramap(state: \\State.current)","                .contramap(environment: { _ in () }),","","            Todo.reducer","                .contramap(action: \/Action.todo)","                .contramap(state: \/State.Current.todo)","                .contramap(state: \\State.current)","                .contramap(environment: { _ in () }),","","            StateDiagram.reducer","                .contramap(action: \/Action.stateDiagram)","                .contramap(state: \/State.Current.stateDiagram)","                .contramap(state: \\State.current)","                .contramap(environment: { _ in () }),","","            Stopwatch.reducer","                .contramap(action: \/Action.stopwatch)","                .contramap(state: \/State.Current.stopwatch)","                .contramap(state: \\State.current)","                .contramap(environment: { $0.stopwatch }),","","            GitHub.reducer","                .contramap(action: \/Action.github)","                .contramap(state: \/State.Current.github)","                .contramap(state: \\State.current)","                .contramap(environment: { $0.github }),","","            GitHub.reducer","                .contramap(action: \/Action.github)","                .contramap(state: \/State.Current.github)","                .contramap(state: \\State.current)","                .contramap(environment: { $0.github })","        )","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To learn more about "},{"type":"codeVoice","code":"CasePath"},{"type":"text","text":", visit the official site and tutorials:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"overridingTitleInlineContent":[{"type":"text","text":"swift-case-paths"}],"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/pointfreeco\/swift-case-paths","overridingTitle":"swift-case-paths"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/www.pointfree.co\/episodes\/ep87-the-case-for-case-paths-introduction"}]}]}]},{"anchor":"Next-Step","level":2,"type":"heading","text":"Next Step"},{"type":"paragraph","inlineContent":[{"type":"text","text":"TBD"}]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/actomaton\/05-reducercomposition"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Actomaton\/documentation\/Actomaton\/05-ReducerComposition","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Reducer composition example."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Example 5: Making a large app (Reducer Composition)","role":"article","modules":[{"name":"Actomaton"}]},"hierarchy":{"paths":[["doc:\/\/Actomaton\/documentation\/Actomaton"]]},"references":{"https://github.com/pointfreeco/swift-case-paths":{"title":"swift-case-paths","titleInlineContent":[{"type":"text","text":"swift-case-paths"}],"type":"link","identifier":"https:\/\/github.com\/pointfreeco\/swift-case-paths","url":"https:\/\/github.com\/pointfreeco\/swift-case-paths"},"doc://Actomaton/documentation/Actomaton":{"role":"collection","title":"Actomaton","abstract":[{"type":"text","text":"Swift "},{"type":"codeVoice","code":"async"},{"type":"text","text":"\/"},{"type":"codeVoice","code":"await"},{"type":"text","text":" & "},{"type":"codeVoice","code":"Actor"},{"type":"text","text":"-powered effectful state-management framework."},{"type":"text","text":" "},{"type":"text","text":"Linux ready."}],"identifier":"doc:\/\/Actomaton\/documentation\/Actomaton","kind":"symbol","type":"topic","url":"\/documentation\/actomaton"},"https://www.pointfree.co/episodes/ep87-the-case-for-case-paths-introduction":{"title":"Episode #87: The Case for Case Paths: Introduction","titleInlineContent":[{"type":"text","text":"Episode #87: The Case for Case Paths: Introduction"}],"type":"link","identifier":"https:\/\/www.pointfree.co\/episodes\/ep87-the-case-for-case-paths-introduction","url":"https:\/\/www.pointfree.co\/episodes\/ep87-the-case-for-case-paths-introduction"},"https://github.com/Actomaton/Actomaton-Gallery":{"title":"Actomaton-Gallery","titleInlineContent":[{"type":"text","text":"Actomaton-Gallery"}],"type":"link","identifier":"https:\/\/github.com\/Actomaton\/Actomaton-Gallery","url":"https:\/\/github.com\/Actomaton\/Actomaton-Gallery"}}}